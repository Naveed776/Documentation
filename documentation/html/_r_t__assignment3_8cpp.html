<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RT1_final_assignment: src/RT_assignment3.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RT1_final_assignment
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">controller for a mobile robot using RViz and Gazebo</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">RT_assignment3.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Final assignment: controller for a mobile robot using RViz and Gazebo.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;ros/ros.h&quot;</code><br />
<code>#include &quot;geometry_msgs/Twist.h&quot;</code><br />
<code>#include &quot;sensor_msgs/LaserScan.h&quot;</code><br />
<code>#include &quot;actionlib_msgs/GoalID.h&quot;</code><br />
<code>#include &quot;move_base_msgs/MoveBaseActionGoal.h&quot;</code><br />
<code>#include &quot;move_base_msgs/MoveBaseActionFeedback.h&quot;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;chrono&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for RT_assignment3.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="_r_t__assignment3_8cpp__incl.png" border="0" usemap="#src_2_r_t__assignment3_8cpp" alt=""/></div>
<map name="src_2_r_t__assignment3_8cpp" id="src_2_r_t__assignment3_8cpp">
<area shape="rect" title="Final assignment: controller for a mobile robot using RViz and Gazebo." alt="" coords="763,5,943,32"/>
<area shape="rect" title=" " alt="" coords="5,87,84,114"/>
<area shape="rect" title=" " alt="" coords="109,87,285,114"/>
<area shape="rect" title=" " alt="" coords="309,87,498,114"/>
<area shape="rect" title=" " alt="" coords="523,87,703,114"/>
<area shape="rect" title=" " alt="" coords="727,80,979,121"/>
<area shape="rect" title=" " alt="" coords="1003,80,1255,121"/>
<area shape="rect" title=" " alt="" coords="1279,87,1359,114"/>
<area shape="rect" title=" " alt="" coords="1383,87,1442,114"/>
<area shape="rect" title=" " alt="" coords="1466,87,1533,114"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8c6bbc0f7823c7d3c2e3cfaf13f6b339"><td class="memItemLeft" align="right" valign="top"><a id="a8c6bbc0f7823c7d3c2e3cfaf13f6b339"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>Goal_th</b>&#160;&#160;&#160;0.5</td></tr>
<tr class="separator:a8c6bbc0f7823c7d3c2e3cfaf13f6b339"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4410033681275279cc4da9eefbd56ec1"><td class="memItemLeft" align="right" valign="top"><a id="a4410033681275279cc4da9eefbd56ec1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>D_th</b>&#160;&#160;&#160;0.5</td></tr>
<tr class="separator:a4410033681275279cc4da9eefbd56ec1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eda6c33791919342f30087bf700384b"><td class="memItemLeft" align="right" valign="top"><a id="a3eda6c33791919342f30087bf700384b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>Timeout</b>&#160;&#160;&#160;180000000</td></tr>
<tr class="separator:a3eda6c33791919342f30087bf700384b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a96f987620362babd4b543eec8604f310"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r_t__assignment3_8cpp.html#a96f987620362babd4b543eec8604f310">displaytarget</a> ()</td></tr>
<tr class="memdesc:a96f987620362babd4b543eec8604f310"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function print on display to define the actual target if a target has been set.  <a href="_r_t__assignment3_8cpp.html#a96f987620362babd4b543eec8604f310">More...</a><br /></td></tr>
<tr class="separator:a96f987620362babd4b543eec8604f310"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a026e171e21d3ca88ed2da6fae0164914"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r_t__assignment3_8cpp.html#a026e171e21d3ca88ed2da6fae0164914">settarget</a> ()</td></tr>
<tr class="memdesc:a026e171e21d3ca88ed2da6fae0164914"><td class="mdescLeft">&#160;</td><td class="mdescRight">define for the new target taken from user  <a href="_r_t__assignment3_8cpp.html#a026e171e21d3ca88ed2da6fae0164914">More...</a><br /></td></tr>
<tr class="separator:a026e171e21d3ca88ed2da6fae0164914"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ab833036b8cf79a606880e0db2144aa"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r_t__assignment3_8cpp.html#a1ab833036b8cf79a606880e0db2144aa">canceltarget</a> ()</td></tr>
<tr class="memdesc:a1ab833036b8cf79a606880e0db2144aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">define that cancel the target  <a href="_r_t__assignment3_8cpp.html#a1ab833036b8cf79a606880e0db2144aa">More...</a><br /></td></tr>
<tr class="separator:a1ab833036b8cf79a606880e0db2144aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a913cb968dfcc5c46a0f9f956636691cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r_t__assignment3_8cpp.html#a913cb968dfcc5c46a0f9f956636691cd">currentSituation</a> (const move_base_msgs::MoveBaseActionFeedback::ConstPtr &amp;msg)</td></tr>
<tr class="memdesc:a913cb968dfcc5c46a0f9f956636691cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">currentsituation define the status and check if there is any target is been reached update the actual goal id and cancelthe actual targetif time is runout  <a href="_r_t__assignment3_8cpp.html#a913cb968dfcc5c46a0f9f956636691cd">More...</a><br /></td></tr>
<tr class="separator:a913cb968dfcc5c46a0f9f956636691cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc4f8033f7eb9a59ce8de90f6f257acb"><td class="memItemLeft" align="right" valign="top"><a id="afc4f8033f7eb9a59ce8de90f6f257acb"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r_t__assignment3_8cpp.html#afc4f8033f7eb9a59ce8de90f6f257acb">Maintarget</a> (const move_base_msgs::MoveBaseActionGoal::ConstPtr &amp;msg)</td></tr>
<tr class="memdesc:afc4f8033f7eb9a59ce8de90f6f257acb"><td class="mdescLeft">&#160;</td><td class="mdescRight">it describe the golbal varaible the define the actual target <br /></td></tr>
<tr class="separator:afc4f8033f7eb9a59ce8de90f6f257acb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9497364475f01865457f789b4dce626"><td class="memItemLeft" align="right" valign="top"><a id="ab9497364475f01865457f789b4dce626"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r_t__assignment3_8cpp.html#ab9497364475f01865457f789b4dce626">Velocity</a> (const geometry_msgs::Twist::ConstPtr &amp;msg)</td></tr>
<tr class="memdesc:ab9497364475f01865457f789b4dce626"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called whenever the teleop twist keyboard want to change the robot velocity If the robot isn't in manual driving, the message is ignored. If the robot is in manual driving, but driving assistence is disabled, the message is sent to the cmd_vel topic If the robot is in manual driving and driving assistence is enabled, the message is saved in a global variable and it will be corrected by the driving assistence before being published. <br /></td></tr>
<tr class="separator:ab9497364475f01865457f789b4dce626"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f3949f97be70b86441044dd5b326821"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r_t__assignment3_8cpp.html#a8f3949f97be70b86441044dd5b326821">checking_distance</a> (double range[], int size)</td></tr>
<tr class="separator:a8f3949f97be70b86441044dd5b326821"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2977d7a08e05aafaa88cb8f12aaa9002"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r_t__assignment3_8cpp.html#a2977d7a08e05aafaa88cb8f12aaa9002">drivinginstructor</a> (const sensor_msgs::LaserScan::ConstPtr &amp;msg)</td></tr>
<tr class="memdesc:a2977d7a08e05aafaa88cb8f12aaa9002"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called whenever a message from LaserScan topic arrives. If driving assistence is disabled the function does nothing. If the driving assistence is enabled:divides the distances in input in 5 sectors If there is a close wall in the direction where the user wants the robot to go, it prints a warning on the console and stops the robot.  <a href="_r_t__assignment3_8cpp.html#a2977d7a08e05aafaa88cb8f12aaa9002">More...</a><br /></td></tr>
<tr class="separator:a2977d7a08e05aafaa88cb8f12aaa9002"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f5aba4470ddbdda73d96ebfde2ff38e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r_t__assignment3_8cpp.html#a6f5aba4470ddbdda73d96ebfde2ff38e">drivingmanually</a> ()</td></tr>
<tr class="memdesc:a6f5aba4470ddbdda73d96ebfde2ff38e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called when the user choose the manual driving. It changes the driving mode and enable/disable driving assistence if the user press 'a'.  <a href="_r_t__assignment3_8cpp.html#a6f5aba4470ddbdda73d96ebfde2ff38e">More...</a><br /></td></tr>
<tr class="separator:a6f5aba4470ddbdda73d96ebfde2ff38e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c52eb1767b32ba80da7e1214bcbec69"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r_t__assignment3_8cpp.html#a1c52eb1767b32ba80da7e1214bcbec69">choice</a> ()</td></tr>
<tr class="separator:a1c52eb1767b32ba80da7e1214bcbec69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top"><a id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>main</b> (int argc, char **argv)</td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac65452c17d5e30bf22ca6787ded9cf15"><td class="memItemLeft" align="right" valign="top"><a id="ac65452c17d5e30bf22ca6787ded9cf15"></a>
actionlib_msgs::GoalID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r_t__assignment3_8cpp.html#ac65452c17d5e30bf22ca6787ded9cf15">cancel_target</a></td></tr>
<tr class="memdesc:ac65452c17d5e30bf22ca6787ded9cf15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Goal to cancel message. <br /></td></tr>
<tr class="separator:ac65452c17d5e30bf22ca6787ded9cf15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a289767f881bb7217ae56e0703a5f35b3"><td class="memItemLeft" align="right" valign="top"><a id="a289767f881bb7217ae56e0703a5f35b3"></a>
ros::Publisher&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r_t__assignment3_8cpp.html#a289767f881bb7217ae56e0703a5f35b3">pub_velocity</a></td></tr>
<tr class="memdesc:a289767f881bb7217ae56e0703a5f35b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish on topic/cmd_vel. <br /></td></tr>
<tr class="separator:a289767f881bb7217ae56e0703a5f35b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a839e7148b6995c1ca2f50230622db35a"><td class="memItemLeft" align="right" valign="top"><a id="a839e7148b6995c1ca2f50230622db35a"></a>
ros::Publisher&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r_t__assignment3_8cpp.html#a839e7148b6995c1ca2f50230622db35a">pub_target</a></td></tr>
<tr class="memdesc:a839e7148b6995c1ca2f50230622db35a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define publisher on topic /move_base/goal. <br /></td></tr>
<tr class="separator:a839e7148b6995c1ca2f50230622db35a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee417cd37ba86e0def39ddf6d3a892c6"><td class="memItemLeft" align="right" valign="top"><a id="aee417cd37ba86e0def39ddf6d3a892c6"></a>
ros::Publisher&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r_t__assignment3_8cpp.html#aee417cd37ba86e0def39ddf6d3a892c6">pub_off</a></td></tr>
<tr class="memdesc:aee417cd37ba86e0def39ddf6d3a892c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define publisher on topic /move_base/cancel. <br /></td></tr>
<tr class="separator:aee417cd37ba86e0def39ddf6d3a892c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b38da70bc534912b1a64a4ef9d4685d"><td class="memItemLeft" align="right" valign="top"><a id="a2b38da70bc534912b1a64a4ef9d4685d"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r_t__assignment3_8cpp.html#a2b38da70bc534912b1a64a4ef9d4685d">x_target</a></td></tr>
<tr class="memdesc:a2b38da70bc534912b1a64a4ef9d4685d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Goal coordinate x. <br /></td></tr>
<tr class="separator:a2b38da70bc534912b1a64a4ef9d4685d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a046bc8e8769567b4762db66344df6070"><td class="memItemLeft" align="right" valign="top"><a id="a046bc8e8769567b4762db66344df6070"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r_t__assignment3_8cpp.html#a046bc8e8769567b4762db66344df6070">y_target</a></td></tr>
<tr class="memdesc:a046bc8e8769567b4762db66344df6070"><td class="mdescLeft">&#160;</td><td class="mdescRight">Goal coordinate y. <br /></td></tr>
<tr class="separator:a046bc8e8769567b4762db66344df6070"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1203d8c4f4455d33246ce920ab5aa05a"><td class="memItemLeft" align="right" valign="top"><a id="a1203d8c4f4455d33246ce920ab5aa05a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r_t__assignment3_8cpp.html#a1203d8c4f4455d33246ce920ab5aa05a">target</a> = false</td></tr>
<tr class="memdesc:a1203d8c4f4455d33246ce920ab5aa05a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Boolean variable is used for specify the if there is any target. <br /></td></tr>
<tr class="separator:a1203d8c4f4455d33246ce920ab5aa05a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8879db39f219b1928b305cb04e428ee0"><td class="memItemLeft" align="right" valign="top"><a id="a8879db39f219b1928b305cb04e428ee0"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r_t__assignment3_8cpp.html#a8879db39f219b1928b305cb04e428ee0">drive</a> = false</td></tr>
<tr class="memdesc:a8879db39f219b1928b305cb04e428ee0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Boolean variable is used for specify for manual driving on. <br /></td></tr>
<tr class="separator:a8879db39f219b1928b305cb04e428ee0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2c371d0525b904b84a40de538a33101"><td class="memItemLeft" align="right" valign="top"><a id="ab2c371d0525b904b84a40de538a33101"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r_t__assignment3_8cpp.html#ab2c371d0525b904b84a40de538a33101">instructor</a> = false</td></tr>
<tr class="memdesc:ab2c371d0525b904b84a40de538a33101"><td class="mdescLeft">&#160;</td><td class="mdescRight">Boolean variable is used for specify for driving assitsance is on. <br /></td></tr>
<tr class="separator:ab2c371d0525b904b84a40de538a33101"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05aa9a517645a7b42c6ad780f5fbf40e"><td class="memItemLeft" align="right" valign="top"><a id="a05aa9a517645a7b42c6ad780f5fbf40e"></a>
geometry_msgs::Twist&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r_t__assignment3_8cpp.html#a05aa9a517645a7b42c6ad780f5fbf40e">stop</a></td></tr>
<tr class="memdesc:a05aa9a517645a7b42c6ad780f5fbf40e"><td class="mdescLeft">&#160;</td><td class="mdescRight">stop the robot <br /></td></tr>
<tr class="separator:a05aa9a517645a7b42c6ad780f5fbf40e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73a93f6d0b0196e972032cf256c432b0"><td class="memItemLeft" align="right" valign="top"><a id="a73a93f6d0b0196e972032cf256c432b0"></a>
geometry_msgs::Twist&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r_t__assignment3_8cpp.html#a73a93f6d0b0196e972032cf256c432b0">new_velocity</a></td></tr>
<tr class="memdesc:a73a93f6d0b0196e972032cf256c432b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">checking driving assitance befor being published <br /></td></tr>
<tr class="separator:a73a93f6d0b0196e972032cf256c432b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67668278838ab1eb0065ef9218c8de00"><td class="memItemLeft" align="right" valign="top"><a id="a67668278838ab1eb0065ef9218c8de00"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r_t__assignment3_8cpp.html#a67668278838ab1eb0065ef9218c8de00">m</a> = 'a'</td></tr>
<tr class="memdesc:a67668278838ab1eb0065ef9218c8de00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variable used to store the user commands. <br /></td></tr>
<tr class="separator:a67668278838ab1eb0065ef9218c8de00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd0d68c6d31ff249f3ae8662162663c3"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r_t__assignment3_8cpp.html#afd0d68c6d31ff249f3ae8662162663c3">id</a> = &quot;&quot;</td></tr>
<tr class="memdesc:afd0d68c6d31ff249f3ae8662162663c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">the time fuction is used to measured the time to reach target  <a href="_r_t__assignment3_8cpp.html#afd0d68c6d31ff249f3ae8662162663c3">More...</a><br /></td></tr>
<tr class="separator:afd0d68c6d31ff249f3ae8662162663c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc1669f841e2a702e4883dfc3a2afe29"><td class="memItemLeft" align="right" valign="top"><a id="acc1669f841e2a702e4883dfc3a2afe29"></a>
std::chrono::high_resolution_clock::time_point&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r_t__assignment3_8cpp.html#acc1669f841e2a702e4883dfc3a2afe29">time_start</a></td></tr>
<tr class="memdesc:acc1669f841e2a702e4883dfc3a2afe29"><td class="mdescLeft">&#160;</td><td class="mdescRight">start time for target <br /></td></tr>
<tr class="separator:acc1669f841e2a702e4883dfc3a2afe29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57e961fdbf4460ca179e15a2bf16d310"><td class="memItemLeft" align="right" valign="top">std::chrono::high_resolution_clock::time_point&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_r_t__assignment3_8cpp.html#a57e961fdbf4460ca179e15a2bf16d310">time_end</a></td></tr>
<tr class="memdesc:a57e961fdbf4460ca179e15a2bf16d310"><td class="mdescLeft">&#160;</td><td class="mdescRight">computed the end time with the help of start time to reache the specified target  <a href="_r_t__assignment3_8cpp.html#a57e961fdbf4460ca179e15a2bf16d310">More...</a><br /></td></tr>
<tr class="separator:a57e961fdbf4460ca179e15a2bf16d310"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73b3925d8c0a45941aa0f8cc5f4d8b8a"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><b>menu</b></td></tr>
<tr class="separator:a73b3925d8c0a45941aa0f8cc5f4d8b8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Final assignment: controller for a mobile robot using RViz and Gazebo. </p>
<dl class="section author"><dt>Author</dt><dd>Afridi Naveed Manzoor </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>06/07/2022 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">GOAL_TH</td><td>Define the threshold distance between robot and consider the target </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">D_TH</td><td>Define the threshold set between the robt and a wall if it go near the wall it will create risk </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">TIMEOUT</td><td>Define reachable time if the robot doesn't reach it within 3 minutes its considered that the robot not reached at the certian place</td></tr>
  </table>
  </dd>
</dl>
<p>Subscribes to: <br  />
 ° /move_base/feedback it describe the current status of the robot ° /move_base/goal It describe the actual target ° /prov_cmd_vel It contain the velocity command to check the robot is go to the assistance mode ° /scan It takse a data from laser scanner and measured the distance</p>
<p>Publishes to: <br  />
 ° /move_base/goal It define the actual atrget ° /move_base/cancel It define cancel the target by specfied by an ID ° /cmd_vel It confimred the velocity</p>
<p>Description :</p>
<p>This node allows the user to control a mobile robot in 3 different modes: The user can choose one of three methods to command the robot (autonomously, manually, or in assisted driving mode).</p>
<p>The robot construct a map and avoide walls by using the laser scanner sensors. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a1ab833036b8cf79a606880e0db2144aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ab833036b8cf79a606880e0db2144aa">&#9670;&nbsp;</a></span>canceltarget()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool canceltarget </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>define that cancel the target </p>
<dl class="section return"><dt>Returns</dt><dd>True when the target is cancelled false when there is no goal </dd></dl>

</div>
</div>
<a id="a8f3949f97be70b86441044dd5b326821"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f3949f97be70b86441044dd5b326821">&#9670;&nbsp;</a></span>checking_distance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double checking_distance </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>range</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function receives as input an array of distances and return the smallest </p>

</div>
</div>
<a id="a1c52eb1767b32ba80da7e1214bcbec69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c52eb1767b32ba80da7e1214bcbec69">&#9670;&nbsp;</a></span>choice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void choice </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>\briefThis function print the main menu on the screen and calls the functions needed for the selected operation </p>

</div>
</div>
<a id="a913cb968dfcc5c46a0f9f956636691cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a913cb968dfcc5c46a0f9f956636691cd">&#9670;&nbsp;</a></span>currentSituation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void currentSituation </td>
          <td>(</td>
          <td class="paramtype">const move_base_msgs::MoveBaseActionFeedback::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>currentsituation define the status and check if there is any target is been reached update the actual goal id and cancelthe actual targetif time is runout </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>publish on move_base/feedback topic. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void value-returning functions except they do not return a value after the function executes.</dd></dl>
<p>This is used for update the new target if there is atrget check the distance ans start the time if the robot reached the target computed this if the time is greather then sp automatically cancel it. </p>

</div>
</div>
<a id="a96f987620362babd4b543eec8604f310"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96f987620362babd4b543eec8604f310">&#9670;&nbsp;</a></span>displaytarget()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void displaytarget </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function print on display to define the actual target if a target has been set. </p>
<dl class="section return"><dt>Returns</dt><dd>void value-returning functions except they do not return a value after the function executesl</dd></dl>
<p>This function print on display to define the actual target if goal has been set, otherwise it displays NaN as target's coordinates </p>

</div>
</div>
<a id="a2977d7a08e05aafaa88cb8f12aaa9002"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2977d7a08e05aafaa88cb8f12aaa9002">&#9670;&nbsp;</a></span>drivinginstructor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drivinginstructor </td>
          <td>(</td>
          <td class="paramtype">const sensor_msgs::LaserScan::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is called whenever a message from LaserScan topic arrives. If driving assistence is disabled the function does nothing. If the driving assistence is enabled:divides the distances in input in 5 sectors If there is a close wall in the direction where the user wants the robot to go, it prints a warning on the console and stops the robot. </p>
<p>&lt;get array by laserscan</p>
<p>&lt;fill sector arrays</p>

</div>
</div>
<a id="a6f5aba4470ddbdda73d96ebfde2ff38e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f5aba4470ddbdda73d96ebfde2ff38e">&#9670;&nbsp;</a></span>drivingmanually()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void drivingmanually </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is called when the user choose the manual driving. It changes the driving mode and enable/disable driving assistence if the user press 'a'. </p>
<p>&lt;Change driving mode</p>

</div>
</div>
<a id="a026e171e21d3ca88ed2da6fae0164914"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a026e171e21d3ca88ed2da6fae0164914">&#9670;&nbsp;</a></span>settarget()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void settarget </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>define for the new target taken from user </p>
<dl class="section return"><dt>Returns</dt><dd>void value-returning functions except they do not return a value after the function executes</dd></dl>
<p>This tell the user to enter the new target coordinates after that send a message to the goal topic and take the start time </p>
<p>&lt;Take new goal from the user</p>
<p>&lt;Set new coordinates to reach</p>
<p>&lt;Publish new goal</p>
<p>&lt;Set the starting time</p>
<p>&lt;There is a goal</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="afd0d68c6d31ff249f3ae8662162663c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd0d68c6d31ff249f3ae8662162663c3">&#9670;&nbsp;</a></span>id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string id = &quot;&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>the time fuction is used to measured the time to reach target </p>
<p>Goal ID </p>

</div>
</div>
<a id="a73b3925d8c0a45941aa0f8cc5f4d8b8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73b3925d8c0a45941aa0f8cc5f4d8b8a">&#9670;&nbsp;</a></span>menu</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* menu</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= R<span class="stringliteral">&quot;(</span></div>
<div class="line"><span class="stringliteral">   Read instruction for control Robot</span></div>
<div class="line"><span class="stringliteral">   -----------------------------------</span></div>
<div class="line"><span class="stringliteral">   - press 0 Quit for the system </span></div>
<div class="line"><span class="stringliteral">   - prees 1 Insert your new value of the target </span></div>
<div class="line"><span class="stringliteral">   - press 2 Cancel your current driving target</span></div>
<div class="line"><span class="stringliteral">   - press 3 for the Manual driving</span></div>
<div class="line"><span class="stringliteral">   -------------------------------------</span></div>
<div class="line"><span class="stringliteral">)&quot;</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a57e961fdbf4460ca179e15a2bf16d310"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57e961fdbf4460ca179e15a2bf16d310">&#9670;&nbsp;</a></span>time_end</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::chrono::high_resolution_clock::time_point time_end</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>computed the end time with the help of start time to reache the specified target </p>
<p>MENU show for the user that control the robot </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
